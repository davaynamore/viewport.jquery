<!DOCTYPE html>
<html>
  <head lang="en">
    <meta charset="UTF-8">
    <title>jQuery.viewport work example</title>

    <link rel="stylesheet" href="stylesheet.css" />
  </head>

  <body>
    <div id="wrapperScrollable"></div>
    <div id="wrapperGhost"></div>
  </body>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="../jquery.viewport.js"></script>
  <script type="text/javascript">
      $(function () {
          let $scrollable = $('#wrapperScrollable'),
              $ghost      = $('#wrapperGhost')
                      .offset({top: $scrollable.offset().top - $scrollable.scrollTop()}),
              html        = '';

          let onScroll = () => $ghost.offset({top: $scrollable.offset().top - $scrollable.scrollTop()});

          $scrollable[0].addEventListener('scroll', onScroll, {passive: true});
          $scrollable[0].addEventListener('resize', onScroll, {passive: true});

          for (let i = 1; i <= 50; i++) {
              html += `<div class="element" data-element="${i}"><div class="text"></div></div>`;
          }

          $scrollable.append(html);
          $ghost.append(html);
      });
  </script>
</html>